---
globs: 
  - i18n/*.json
  - cv.json
description: Guidelines for editing resume JSON data files and i18n
---

# Resume JSON & i18n Guidelines

## How i18n Works

The internationalization system uses a 3-step mustache templating approach:

1. **Translation files** (`i18n/eng.json`, `i18n/rus.json`) contain key-value pairs for each language
2. **CV template** (`cv.json`) contains mustache placeholders like `{{ key_name }}`
3. **Build process** merges translations into cv.json, outputting `out/eng.json` and `out/rus.json`
4. **Theme template** (`theme/templates/resume.mustache`) uses `{{i18n.key_name}}` to render translations

### Build Flow
```
i18n/eng.json + cv.json  →  out/eng.json  →  HTML (via theme)
i18n/rus.json + cv.json  →  out/rus.json  →  HTML (via theme)
```

## Adding a New i18n Key

To add a new translatable string, you must update **3 files**:

### Step 1: Add to `i18n/eng.json`
```json
{
    "existing_key": "Existing Value",
    "new_key": "New English Text"
}
```

### Step 2: Add to `i18n/rus.json`
```json
{
    "existing_key": "Существующее значение",
    "new_key": "Новый русский текст"
}
```

### Step 3: Add placeholder to `cv.json` (in the `i18n` section)
```json
{
  "i18n": {
    "existing_key": "{{ existing_key }}",
    "new_key": "{{ new_key }}"
  }
}
```

### Step 4: Use in template (`theme/templates/resume.mustache`)
```mustache
<h3>{{i18n.new_key}}</h3>
```

## Current i18n Keys

| Key | English | Russian |
|-----|---------|---------|
| `name` | Name value | Имя |
| `about` | About | Обо мне |
| `skills` | Skills | Навыки |
| `work_experience` | Work Experience | Опыт работы |
| `present` | Present | По настоящее время |
| `languages` | Languages | Языки |
| `education` | Education | Образование |
| `interests` | Interests | Интересы |
| `website` | Website | Веб-сайт |
| `footer` | Footer text | Текст футера |

## File Structure

- `i18n/eng.json` - English translations
- `i18n/rus.json` - Russian translations
- `cv.json` - Main resume data with i18n placeholders
- `out/eng.json` - Generated English resume (don't edit)
- `out/rus.json` - Generated Russian resume (don't edit)

## Editing Rules

1. **Both i18n files must have the same keys** - structure must be consistent
2. **cv.json i18n section must match** - all keys need placeholders
3. **Valid JSON**: Always ensure valid JSON syntax after edits
4. **Proper Translation**: Content should be properly translated, not transliterated

## Language Standards

### English (i18n/eng.json)
- Use American English conventions
- Professional US terminology

### Russian (i18n/rus.json)
- Use proper Russian grammar and formatting
- Appropriate Russian professional terminology

## After Editing

1. Run `npm run build:all` to regenerate output files
2. Ask user to run `npm run serve:eng:watch` or `npm run serve:rus:watch` to preview
