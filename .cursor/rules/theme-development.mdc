---
globs: theme/**/*
description: Theme development and customization guidelines
---

# Theme Guidelines

## Current State

The project uses a **custom Mustache theme** located in the `theme/` directory:
- `theme/index.js` - Main render function
- `theme/templates/resume.mustache` - HTML template with Mustache syntax
- `theme/styles/main.css` - CSS styles

## i18n Support

Static text fields are internationalized. To add a new i18n key, update **3 files**:

1. `i18n/eng.json` - Add English translation
2. `i18n/rus.json` - Add Russian translation  
3. `cv.json` (i18n section) - Add mustache placeholder `{{ key_name }}`

Then use in template with `{{i18n.key_name}}` syntax.

See [resume-json-editing.mdc](mdc:.cursor/rules/resume-json-editing.mdc) for detailed i18n documentation.

## Development Workflow

**Important: Do NOT automatically run serve commands after making changes.**

After making changes to theme files, **ask the user** to run the appropriate watch command:

```bash
npm run serve:eng:watch  # For English version
npm run serve:rus:watch  # For Russian version
```

The user will decide when to preview changes.

## Making Theme Changes

1. Edit template in `theme/templates/resume.mustache`
2. Edit styles in `theme/styles/main.css`
3. For i18n changes, update both `i18n/*.json` files and `cv.json`
4. Ask user to run `npm run serve:*:watch` to preview

## Template Syntax

Uses Mustache templating:
- `{{variable}}` - Output variable value
- `{{#section}}...{{/section}}` - Conditional/loop section
- `{{^section}}...{{/section}}` - Inverted section (if falsy)
- `{{{raw}}}` - Unescaped HTML output
